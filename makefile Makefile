# Makefile for compiling and running the Split_kMeans program

# Allow CC/CFLAGS to be overridden by environment (e.g., CI matrix)
CC      ?= gcc
CFLAGS  ?= -O3 -std=c11 -Wall -Wextra -Wpedantic
CPPFLAGS?= -ISplit_kMeans
LDFLAGS ?=
LDLIBS  ?= -lm -pthread

SRC     := Split_kMeans/Clustering_with_.c
OUT     := split_kmeans

.PHONY: all clean run

all: $(OUT)

$(OUT): $(SRC)
	$(CC) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) -o $@ $^ $(LDLIBS)

run: $(OUT)
	./$(OUT)

clean:
	$(RM) $(OUT)