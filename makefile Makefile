# Makefile for compiling and running the Split_kMeans program

CC      ?= gcc
CFLAGS  ?= -O3 -std=c11 -Wall -Wextra -Wpedantic
INCLUDES:= -ISplit_kMeans
# Capture *.c directly under Split_kMeans/ and one level deeper (Split_kMeans/*/*.c)
SRC     := $(wildcard Split_kMeans/*.c) $(wildcard Split_kMeans/*/*.c)
OUT     := split_kmeans
LDLIBS  := -lm
# Uncomment if threads are used
# LDLIBS += -pthread

.PHONY: all clean run

all: $(OUT)

$(OUT): $(SRC)
	$(CC) $(CFLAGS) $(INCLUDES) $^ -o $@ $(LDLIBS)

run: $(OUT)
	./$(OUT)

clean:
	$(RM) $(OUT)